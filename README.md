# Do Compiler
The Do Programming Language Compiler for Windows üí°üßê

The language I've created in order to learn about compilers and language design.


## Setup
Follow this steps to setup the **Do Programming Language Compiler for Windows** correctly on your machine.
1. `git clone` this repository on your computer.
2. Move the project's directory to the desired location on your machine.
3. Make sure you have a C compiler installed.
    - I used `gcc (x86_64-win32-seh-rev0, Built by MinGW-W64 project) 8.1.0` while building the compiler.
4. Run `install.bat` in the `cmd`.
	1. Will build the project and generate the `do.exe` executable in the `bin` direcotry.
	2. Will add the path to the `bin` directory to your system's `PATH` environment variable.

And thats it üòÄ


## Use
Now I'll explain how to use the do compiler to compile do code to x64 MASM assembly code to a runnable executable.

### Compile Do code
Run `do /path/to/source.do [/path/to/destination.asm]` in the `cmd` to compile `.do` file to `.asm` file.
- Run `do` without any arguments to see how to use the command.

### Compile x64 MASM assembly code
Run `ml64 filename.asm /link /subsystem:windows /entry:main` in the `cmd` to compile `.asm` file to a `.exe` executable.

### Example
The following is an example do code that you can use to try out the do compiler.

```c
prog my_prog:
	char ch;
        set ch = 'A';

	int i;
	set i = 0;
	while (i < 10):
		set ch = ch + i;
		set i = i + 1;
	done
done :)
```


## Project structure
Now I'll explain the structure of the project. What is the purpose of each directory in it, and some importand files.

### bin
Contains the binary files needed for using the do compiler.
- `do.exe` - the executable of the do compiler.
- The rest of the files are used for compiling the x64 MASM assembly code that is generated by the do compiler.

### scripts
Contains scrips for building and managing the project.
- `build.ps1` - compiles all the source files `.c .h` of the project, and generates the `do.exe` in the `bin` directory.
- `test.ps1` - builds the compiler, and runs all the tests that are in the `tests` directory. At the end outputs a summary for the passed an failed tests.
- `clean.ps1` - deletes the `do.exe`, and all the `.asm` files if exist.
- `code_lines.ps1` - prints how many lines of code there are in the project.

### src
Contains all the source file of the project, all the `.c .h` files.

### tests
Contains `.do` files for testing the compiler.

All of those `.do` files should fail compilation with all of the possible compilation errors.
